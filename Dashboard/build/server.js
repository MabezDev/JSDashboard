function serviceJsonWidget(e,s){var t=e.body;if(t){var r=[];request(t.serviceURL,function(e,a,p){if(e&&s.send(404),p){for(var i=JSON.parse(p),u=0;u<t.jsonKeys.length;u++){var n=t.jsonKeys[u].split(".").reduce(function(e,s){return void 0!=e?e[s]:e},i);n||(n="KEY_NOT_FOUND"),r.push(n)}console.log(r),s.send(JSON.stringify(r))}})}}function customTest(e,s){request(e.query.url,function(e,t,r){r?s.send(r):s.sendStatus(404)})}var http=require("http"),url=require("url"),fs=require("fs"),request=require("request"),express=require("express"),bodyParser=require("body-parser"),app=express();app.use("/",express.static("../client/",{extensions:["html"]})),app.use(bodyParser.json()),app.get("/api/data/weather"),app.get("/api/data/temperature"),app.get("/api/data/custom/test",customTest),app.post("/api/data/custom/json",serviceJsonWidget),app.post("/api/data/custom/rss"),app.listen(8080);